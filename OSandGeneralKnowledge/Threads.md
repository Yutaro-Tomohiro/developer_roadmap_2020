# Threads and Concurrency -スレッドと並行処理-
## スレッドとは何か？
プロセスを複数に分割し、親プロセスと同じメモリ領域で動くプログラム単位のこと。

スレッドの良いところは並列処理をする際にある。

プロセスはforkして子プロセスを複数立ち上げることで、同じプログラムを並列に動かすことができるが、子プロセスを立ち上げたときには子プロセス用のメモリ領域が新たに割り当てられるため、プロセスを切り替える場合は仮想アドレス ⇔ 物理アドレスと行き来する必要があり、処理に時間がかかる。

スレッドの場合、データは全て親プロセスのメモリ領域内に保持されているため、仮想アドレス空間を切り替える必要がない。
そのため、単純に同じプログラムを並列で動作させる場合は、スレッドの方がより高速に処理できる。

## 並行処理と並列処理の違い
### 並行処理とは
実際は一つのプロセスを行っているが、それぞれのプロセスを切り換えることによって、擬似的に同時に処理が走っているように見せること。

### 並列処理とは
実際に物理的に複数の処理が走っている状態。
CPUのコア（スレッド）ごとにそれぞれ処理を持たせることで実現できる。

なので、マルチコア、マルチスレッドを持つCPUじゃないとできない処理方式。

<!-- ## 並行処理と並列処理は何のためにあるの？ -->

## 参考文献
もろず blog - イケてるエンジニアになろうシリーズ 〜メモリとプロセスとスレッド編〜（最終閲覧日：2020年8月18日）

https://moro-archive.hatenablog.com/entry/2014/09/11/013520#5

Qiita - 並行処理、並列処理のあれこれ（最終閲覧日：2020年8月18日）

https://qiita.com/Kohei909Otsuka/items/26be74de803d195b37bd

fukuの犬小屋 - 並列処理 -入門 並列処理をCPUの歴史から理解-（最終閲覧日：2020年8月18日）

https://roy29fuku.com/hardware/parallel-processing-tutorial/#CPU
