# Learn Languages
## プログラミング言語とは？
### プログラミング言語とは？
プログラミング言語とは、コンピュータに対して動作手順、動作方法、動作内容などを適切に指示するために用いられる、人工的に構成された言語体系のこと。

コンピュータは機械語の命令で動作するが、人間が機械語を扱うのは難しい。
そのため、人間が扱いやすい表現でコンピュータに命令を与えるためにプログラミング言語が使われる。

### 低水準言語と高水準言語
低水準言語とは、機械語やアセンブリ言語などのこと。
ハードウェアに近い部分で処理をかけるため、チューニングに向いているが、人間が理解するのが難しい。

高水準言語とは、自然言語に近い言語で記述できるプログラミング言語のこと。
コンパイラ型言語やインタープリタ型言語などがある。

コンパイラ型言語は、人間が理解しやすい抽象的な表現によってプログラムを記述し、コンパイラを用いて機械語などに変換することで、目的のプログラムを生成する言語のこと。

インタープリタ型言語とは、人間がプログラミング言語で記述したソースコードを、コンピュータが機械語に逐次翻訳しながら、そのプログラムを実行してゆく形式の言語のこと。

### プログラミング言語の分類
プログラミング言語はプログラムをどのように構成するかという観念から分類すると、手続き型言語、関数型言語、オブジェクト指向言語などがある。

手続き型言語は、手続きの集まりをもとに、ジャンプ、条件判定、繰り返しなどを制御しプログラムを構築する。主な言語としては、Fortran、COBOL、C言語、Goなどがある。

関数型言語は引数を入力として処理を行い、呼び出し元に返り値を出力する関数の組み合わせでプログラムを記述する。
主な言語として、Lisp、Scheme、Haskel、F#などがある。

オブジェクト指向言語はデータと手続きが一体化したオブジェクト群を定義していき、それらが互いに指示やデータを送り合うことにより処理を記述する言語のこと。
主な言語として、C++、Ruby、Javaなどがある。

## Goとrubyについて
### Goの特徴
- 2009年にGoogleによって作られたオープンソースの言語
- 静的型付け言語
- コンパイル・実行速度が早い
- メモリ安全性が高い
- 並列処理の記述が容易

### rubyの特徴
- まつもとゆきひろにより開発されたオブジェクト指向言語
- 動的型付け言語
- 記述量が少ない
- 豊富なメソッド
- 汎用性が高い

## コーディング規約
### コーディング規約について
コーディング規約とは、あらかじめプログラムコードを書く際のルールをコミュニティ内で決めておき、この中での認識の齟齬を極力減らすことでメンテナンスしやすくするためにある。
ここでいうコミュニティとは、その言語を使う人たち全体であったり、開発メンバーであったりと様々な大きさのものを指す。

### rubyのコーディング規約
rubyには公式のコーディング規約が存在しない。
これは、Rubyのパパであるまつもとゆきひろ氏の考えからである。

とはいえあった方が色々めんどくさいことが減るよねってことで、有志のコミュニティだったり、会社などで色々なコーディング規則がある。
それらを以下でいくつか紹介する。

[Rubyスタイルガイド](https://github.com/fortissimo1997/ruby-style-guide/blob/japanese/README.ja.md):Rubyのソースコード解析ツールであるRuboCopが準拠しているコーディング規約

[Standard gem](https://github.com/testdouble/standard): RuboCopを元とした静的解析ツール。RuboCopの特徴はカスタマイズ性優れている点だが、その分手間がかかる。Standard gemそのまま使える手軽さが売り。作者はJustin Sealsというオハイオ洲在住の関西人の方で、RubyKaigi 2016のキーノートスピーカーにも出ている有名な人らしい。

## パッケージマネージャについて
### パッケージマネージャとは
パッケージのインストールやアインインストール、アップデート作業において、
どのようなパッケージがどこにインストールされているかを管理したり、
パッケージ間の競合を回避したりする仕組みを提供しているツールをパッケージマネージャという。

Mac OS Xのパッケージマネージャではhomebrewが有名。

railsには主にrbenv, RubyGems, Bundlerというパッケージマネージャが使われる。

### homebrewの使い方
Homebrew は「ユーザが自らパッケージをビルドして使用する」ことのメタファーで「ビールを自家醸造して保存する・飲む」ことを意味している。そのため、独特なキーワードを用いるので下記の表にまとめる。

|キーワード|本来の意味|例え|
|--|--|--|
|Brew|ビールを醸造する|makeする|
|Homebrew|自家醸造|ユーザ自らがビルドする|
|Cellar|セラー（ワインセラーのなどのセラー。ビール貯蔵庫）|インストール（保存）先|
|Keg|樽、醸成用|make 材料|
|Formula|調理法、手順|ビルド方法・手順が書かれたスクリプト|

Homebrew 用のサブコマンドを叩いたり、エラー処理しているときなど、様々な局面で上記のようなキーワードを目にすることになるので、覚えているといいかも。

次にhomebrewでよく使うコマンドを以下の表にまとめる。

|コマンド|意味|
|--|--|
|brew -v|Homebrewのバージョンを見る|
|brew|サブコマンドの表示|
|brew -S|Homebrewのパッケージを一覧表示|
|brew -S キーワード|キーワードが含まれるbrewのパッケージを検索|
|brew info|Homebrewでインストールした統計の情報を表示|
|brew info パッケージ名|パッケージについての情報を表示|
|brew install パッケージ名|パッケージをインストール|
|brew update|Homebrewと全てのパッケージ定義(Formula)をアップデート|
|brew upgrade|Homebrewとパッケージをアップグレード|
|brew rm パッケージ名|パッケージをアンインストール|
|brew ls|インストールされているパッケージを表示|
|brew config|Homebrewシステム構成を表示|
|brew doctor|Homebrewの問題をチェック|
|brew commands|Homebrewのコマンドの一覧を表示|
|brew help コマンド|Homebrewのコマンドの使い方を表示|
|brew home|Homebrewやそのパッケージのページを表示|
|man brew|Homebrewについてのマニュアルを表示|

### ruby周りのパッケージマネージャーの使い方
rubyには主にrbenv, RubyGems, Bundlerというパッケージマネージャがあってそれぞれの特徴を以下の表にまとめる。

|パッケージマネージャ|特徴|
|--|--|
|rbenv|複数のRubyバージョンを管理するツール。バージョンを指定してrubyをインストールできる。インストール後は各バージョンごとに利用するgem置き場が提供される。Railsアプリケーションごとに使用するRubyバージョンを指定できるようになる。|
|RubyGems|Rubyライブラリのgemのパッケージ管理ツール。現在利用しているバージョンのrubyに対してgemをインストールできる。rubyをインストールすると付属してくるツール。目的のgemをインストールする時に別のgemが必要になる(=依存関係がある)場合、それもインストールして目的のGemを使える状態にすることができる。|
|Bundler|RubyGemsをより高機能に使うgem。Railsと一緒に用いる場合、RailsプロジェクトごとにGemfileというファイルで使用するgemを明示的に管理できる(PC全体を汚さず、Railsプロジェクトで完結する)。Bundler自体がRubyGemsによってインストールされるgemであるが、RubyGemsを操って各Railsアプリケーションに必要なgemをGemfile, Gemfile.lockというgem一覧ファイルに基づいてインストールできる。|

まずは、rbenvの使い方について書いていく。
切り替え方法はlocalとglobalの２種類がある。

localでの切り替えについて

- localでの切り替えはプロジェクト毎に使用するRubyのバージョンを切り替える時に使用する
- rbenv local X.X.X(X.X.Xは任意のバージョン)で実行され、カレントディレクトリにバージョン情報が書かれた.ruby-versionファイルを作成する
- .ruby-versionファイルがある層より下のディレクトリは、.ruby-versionファイルに書かれたバージョンが使われる
- .ruby-versionファイルは、global切り替えよりも優先順位が高いため、.ruby-versionファイルに書かれたバージョンが優先される

globalでの切り替えについて

- パソコン全体で使用するRubyのバージョンを切り替える時に使用する
-  rbenv global X.X.X(X.X.Xは任意のバージョン)で実行され、rbenvフォルダ構成にある~/.rbenv/versionのバージョンを切り替えている
- フォルダに.ruby-versionがファイルがある場合は、そちらに記載されているバージョンが優先される

次にRubyGemsの使い方について書いていく。
まずはGemパッケージをインストールする方法だが、例えば[Devise](https://rubygems.org/gems/devise)をインストールするには、以下のコマンドを実行すれば良い。

```
$ gem install devise
```

特定のバージョンのGemパッケージをインストールする時👇

```
$ gem install devise --version X.X.X    # バージョンX.X.Xをインストールする
```
Gemパッケージをアンインストールする時には以下のコマンドを実行する。

```
$ gem uninstall devise
```
特定のバージョンのGemパッケージをアンインストールする時👇

```
$ gem uninstall devise --version X.X.X    # バージョンX.X.Xをアンインストールする
```

インストールされているGemパッケージ全てを更新するには以下のコマンドを実行する。
```
$ gem update
```

特定のGemパッケージを更新するには以下のコマンド👇
```
$ gem update devise
```

gemパッケージの探し方についてだが、[ RubyGems.org](https://rubygems.org)で実装したいキーワードで検索すると関連するgemを探すことができる。

最後にBundlerの使い方について書いていく。
まずはインストール方法だが、Bundlerもgemの１つなので、以下のコマンドを実行する。

```
$ gem install bundler --version X.X.X
```

bundlerが入っているか確認するには以下のコマンドを実行する。

```
$bundler -v
```

bundlerはGemfileとGemfile.lockでgemを管理していて、Gemfileに使いたいgemの一覧を記述していく。
Gemfileへの書き方は以下の通り。

```
# バージョン指定した場合
gem 'gem名', 'バージョン'

# バージョン指定しなかった場合 -> 最新のバージョンがインストールされる
gem 'gem名'
```

Gemfileに記述されたgemをインストールするコマンドとして、

- bundle install
- bundle update

の２つがあるが、この２つのコマンドの違いを説明する。

bundle installはGemfile.lockにないgemをGemfileから探し、見つけたgemをinstallするコマンドである。
このコマンドを実行すると以下の３つが実行される。

- Gemfile.lockでどのgemがinstallされているか確認する
- Gemfile.lockを確認した後にGemfileに記述されているgemを確認する
- Gemfile.lockにないgemをGemfileから見つけた場合、そのgemをインストールする。

これに対して、bundle updateはGemfile.lockに書かれている内容は無視し、Gemfileに書かれているgemを全てインストールするコマンドになる。

bundle updateはGemfileに書かれているgemだけに対して行われるので、今まで動いてたアプリケーションが急に動かなくなる可能性がある。

また、bundle updateをしてGemfile.lockを更新してそれをgitであげると、開発メンバーがそれをpullして動かなくなる危険性もある。
なので、基本的にはbundle installだけを使う様にして、bundle updateコマンドは慎重に使わなければならない。

その他、bundleコマンドを以下の表にまとめる。

|コマンド|意味|
|--|--|
|bundle init|Gemfileを作るコマンド。railsならデフォルトで出来流ので、あまり使う機会はなさそう。|
|bundle list|既にインストールしているgemパッケージの一覧を表示するコマンド|
|bundle config|全てのBundler設定を表示するコマンド。optionを渡してBundlerの設定もできる。|
|bundle clean|ローカルのbundle install先の使われていないGemを削除するコマンド|
|bundle open|オプションで指定したgemファイルを開くコマンド。gemがどの様な挙動をしているか調べたい時にgemファイルの中身を見れるので便利。|
|bundle show|gemが保存されているパスを確認できるコマンド|
|bundle viz|gemの相関図を画像で出してくれるコマンド|

##  補足
機械語：コンピュータが翻訳処理なしに直接理解して処理できる言語

アセンブリ言語：「0」「1」のパターンで書かれた機械語にほぼ1対1で文字のこと

静的型付け：変数や返り値などの値についての型をプログラムの実行よりも前に決める型システムのこと

動的型付け：変数や返り値などの値についての型の整合性チェックをプログラムの実行時に行う型システムのこと

<!-- 強い型付け：

弱い型付け： -->

メモリ安全性：RAMアクセス時に発生するバグやセキュリティホールなどから保護されている状態のこと。例えば、Javaは実行時エラー検出で配列の境界とポインタの参照外しを確認するので、メモリ安全であると言われている。対照的に、CとC++は境界チェックを行わないメモリアドレスを直接参照するポインタを使用した任意のポインタ演算が可能なので、メモリ安全ではない。

パッケージ：実行プログラム、設定ファイル、ドキュメントなどを1つのファイルにまとめたもの

gemfile：bundle install前に必要なgemをまとめて記述するためのファイル

gemfile.lock：実際にインストールしたgemの具体的なバージョンを記述する。また、gemfileを参照してgemをインストールする際に依存関係にあるgemについても記述される。

## 参考文献
weblios辞書｜プログラミング言語（最終閲覧日：2020年9月14日）
https://www.weblio.jp/content/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E

golang.jp｜Go言語とは（最終閲覧日：2020年9月14日）
http://golang.jp/about_go

Ruby A PROGRAMMER'S BEST FRIEND｜Rubyとは（最終閲覧日：2020年9月14日）
https://www.ruby-lang.org/ja/about/

note｜静的型付け言語と動的型付け言語の違いとメリット（最終閲覧日：2020年9月14日）
https://note.com/tasting/n/na6152e3aac51

Rubyコーディング規約（最終閲覧日：2020年9月14日）
https://shugo.net/ruby-codeconv/codeconv.html

Qiita | Rubyコーディングスタイルの現状とStandard gemのご紹介（最終閲覧日：2020年9月28日）
https://qiita.com/takahashim/items/e51927d473f18c2bc73a#standard-gem%E3%81%A8%E3%81%AF

Qrunch.net | パッケージ管理システムについて基本的な概念をまとめてみる（最終閲覧日：2020年9月20日）
https://qrunch.net/@nimzo6689/entries/9M2bGWID83kuQ7nV

オリジナルゲーム.com | Homebrewの使い方。よく使うコマンド一覧と詳しい解説まとめ（最終閲覧日：2020年9月20日）https://original-game.com/homebrew/

Qiita | Railsアプリケーションの環境構築周りのまとめ（最終閲覧日：2020年9月20日）
https://qiita.com/WisteriaWave/items/42d59b8e7ea8ef083877#2-%E9%96%A2%E4%BF%82%E5%9B%B3

Qiita | Bundler, Gemfile, Gemfile.lock について（最終閲覧日：2020年9月20日）
https://qiita.com/viola/items/169833d4c8baf79e1b52

Qiita | rbenvの使い方と仕組みについて（最終閲覧日：2020年9月28日）
https://qiita.com/Kodak_tmo/items/73147ed4f0eec54d6e94

Ruby2.7.0リファレンスマニュアル | rubygemsライブラリ(最終閲覧日：2020年9月28日）
https://docs.ruby-lang.org/ja/latest/library/rubygems.html


Pikawa | Rails】結局bundlerって何？bundlerの仕組みを図解形式で徹底解説(最終閲覧日：2020年9月28日）
https://pikawaka.com/rails/bundler#bundler%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95

<!-- Qiita | （最終閲覧日：2020年9月20日） -->
